<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | CyberEvents</title>
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                    <span>CyberEvents</span>
                </div>
                <div class="college-name">Sri Nidhi College of Engineering</div>
            </div>
            
            <div class="nav-menu">
                <ul class="nav-links">
                    <li><a href="index.html" class="nav-link"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="events.html" class="nav-link"><i class="fas fa-calendar-alt"></i> Events</a></li>
                </ul>
                
                <div class="nav-profile" id="nav-profile">
                    <div class="profile-dropdown">
                        <button class="profile-btn">
                            <div class="avatar" id="user-avatar">
                                <i class="fas fa-crown"></i>
                            </div>
                            <span id="user-name">Admin</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="dropdown-content">
                            <a href="index.html"><i class="fas fa-home"></i> Home</a>
                            <a href="events.html"><i class="fas fa-calendar-alt"></i> Events</a>
                            <div class="dropdown-divider"></div>
                            <a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
                        </div>
                    </div>
                </div>
                
                <button class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Admin Dashboard -->
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="admin-badge">
                    <i class="fas fa-crown"></i>
                    <h3>Admin Panel</h3>
                </div>
                <p class="admin-email" id="admin-email">admin@cyberevents.edu</p>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="#dashboard" class="sidebar-link active" data-section="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#events" class="sidebar-link" data-section="events">
                            <i class="fas fa-calendar-plus"></i>
                            <span>Manage Events</span>
                        </a>
                    </li>
                    <li>
                        <a href="#users" class="sidebar-link" data-section="users">
                            <i class="fas fa-users"></i>
                            <span>User Management</span>
                        </a>
                    </li>
                    <li>
                        <a href="#analytics" class="sidebar-link" data-section="analytics">
                            <i class="fas fa-chart-bar"></i>
                            <span>Analytics</span>
                        </a>
                    </li>
                    <li>
                        <a href="#settings" class="sidebar-link" data-section="settings">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="system-status">
                    <div class="status-indicator"></div>
                    <span>System Online</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="section-header">
                    <h1>Admin Dashboard</h1>
                    <p>Welcome to the CyberEvents Admin Panel</p>
                </div>
                
                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-icon total-events">
                            <i class="fas fa-calendar"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-events">0</h3>
                            <p>Total Events</p>
                        </div>
                        <div class="stat-trend">
                            <i class="fas fa-arrow-up"></i>
                            <span>12%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon total-users">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-users">0</h3>
                            <p>Total Users</p>
                        </div>
                        <div class="stat-trend">
                            <i class="fas fa-arrow-up"></i>
                            <span>24%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon registrations">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-registrations">0</h3>
                            <p>Total Registrations</p>
                        </div>
                        <div class="stat-trend">
                            <i class="fas fa-arrow-up"></i>
                            <span>18%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon upcoming">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="upcoming-events">0</h3>
                            <p>Upcoming Events</p>
                        </div>
                        <div class="stat-trend">
                            <i class="fas fa-arrow-up"></i>
                            <span>8%</span>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="recent-events">
                        <div class="card-header">
                            <h3>Recent Events</h3>
                            <a href="#events" class="view-all">View All</a>
                        </div>
                        <div class="events-list" id="recent-events">
                            <!-- Recent events will be loaded here -->
                            <div class="loading-spinner">
                                <div class="spinner"></div>
                                <p>Loading events...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="card-header">
                            <h3>Quick Actions</h3>
                        </div>
                        <div class="actions-grid">
                            <button class="action-btn" id="add-event-quick">
                                <i class="fas fa-plus"></i>
                                <span>Add New Event</span>
                            </button>
                            <button class="action-btn">
                                <i class="fas fa-download"></i>
                                <span>Export Data</span>
                            </button>
                            <button class="action-btn">
                                <i class="fas fa-bell"></i>
                                <span>Send Notifications</span>
                            </button>
                            <button class="action-btn">
                                <i class="fas fa-chart-pie"></i>
                                <span>View Reports</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Manage Events Section -->
            <section id="events" class="content-section">
                <div class="section-header">
                    <h1>Manage Events</h1>
                    <p>Create, edit, and manage cybersecurity events</p>
                    <button class="btn btn-primary" id="add-event-btn">
                        <i class="fas fa-plus"></i> Add New Event
                    </button>
                </div>
                
                <div class="events-table-container">
                    <div class="table-controls">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="event-search" placeholder="Search events...">
                        </div>
                        
                        <div class="table-actions">
                            <select id="event-filter" class="filter-select">
                                <option value="all">All Events</option>
                                <option value="upcoming">Upcoming</option>
                                <option value="past">Past</option>
                                <option value="today">Today</option>
                            </select>
                            <button class="btn btn-outline" id="refresh-events">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                    </div>
                    
                    <div class="table-responsive">
                        <table class="events-table">
                            <thead>
                                <tr>
                                    <th>Event</th>
                                    <th>Category</th>
                                    <th>Date</th>
                                    <th>Registrations</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="events-table-body">
                                <!-- Events will be loaded here -->
                                <tr>
                                    <td colspan="6" class="loading-cell">
                                        <div class="loading-spinner">
                                            <div class="spinner"></div>
                                            <p>Loading events...</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- User Management Section -->
            <section id="users" class="content-section">
                <div class="section-header">
                    <h1>User Management</h1>
                    <p>Manage user accounts and permissions</p>
                </div>
                
                <div class="users-table-container">
                    <div class="table-controls">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="user-search" placeholder="Search users...">
                        </div>
                        
                        <div class="table-actions">
                            <select id="user-filter" class="filter-select">
                                <option value="all">All Users</option>
                                <option value="admin">Admins</option>
                                <option value="user">Regular Users</option>
                                <option value="recent">Recently Joined</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="table-responsive">
                        <table class="users-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Joined</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body">
                                <!-- Users will be loaded here -->
                                <tr>
                                    <td colspan="6" class="loading-cell">
                                        <div class="loading-spinner">
                                            <div class="spinner"></div>
                                            <p>Loading users...</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="content-section">
                <div class="section-header">
                    <h1>Analytics Dashboard</h1>
                    <p>Event performance and user engagement metrics</p>
                </div>
                
                <div class="analytics-grid">
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Event Registrations</h3>
                            <select class="chart-filter">
                                <option value="7days">Last 7 Days</option>
                                <option value="30days">Last 30 Days</option>
                                <option value="90days">Last 90 Days</option>
                            </select>
                        </div>
                        <div class="chart-placeholder" id="registrations-chart">
                            <div class="chart-message">
                                <i class="fas fa-chart-line"></i>
                                <p>Chart will be displayed here</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>User Growth</h3>
                            <select class="chart-filter">
                                <option value="monthly">Monthly</option>
                                <option value="quarterly">Quarterly</option>
                                <option value="yearly">Yearly</option>
                            </select>
                        </div>
                        <div class="chart-placeholder" id="users-chart">
                            <div class="chart-message">
                                <i class="fas fa-user-chart"></i>
                                <p>Chart will be displayed here</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>Top Performing Events</h4>
                        <div class="insight-list" id="top-events">
                            <!-- Top events will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="insight-card">
                        <h4>Recent Activity</h4>
                        <div class="activity-list" id="recent-activity">
                            <!-- Recent activity will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section">
                <div class="section-header">
                    <h1>Settings</h1>
                    <p>Configure system settings and preferences</p>
                </div>
                
                <div class="settings-tabs">
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="general">General</button>
                        <button class="tab-btn" data-tab="notifications">Notifications</button>
                        <button class="tab-btn" data-tab="security">Security</button>
                        <button class="tab-btn" data-tab="backup">Backup</button>
                    </div>
                    
                    <div class="tab-content">
                        <!-- General Settings -->
                        <div class="tab-pane active" id="general">
                            <form class="settings-form">
                                <div class="form-group">
                                    <label for="site-name">Site Name</label>
                                    <input type="text" id="site-name" value="CyberEvents">
                                </div>
                                
                                <div class="form-group">
                                    <label for="site-description">Site Description</label>
                                    <textarea id="site-description" rows="3">Department of Cybersecurity Event Management System</textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="admin-email">Admin Email</label>
                                    <input type="email" id="admin-email" value="admin@cyberevents.edu">
                                </div>
                                
                                <div class="form-group">
                                    <label for="timezone">Timezone</label>
                                    <select id="timezone">
                                        <option value="IST">Indian Standard Time (IST)</option>
                                        <option value="UTC">UTC</option>
                                        <option value="EST">Eastern Time</option>
                                    </select>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </form>
                        </div>
                        
                        <!-- Notifications Settings -->
                        <div class="tab-pane" id="notifications">
                            <form class="settings-form">
                                <div class="form-group checkbox-group">
                                    <label>
                                        <input type="checkbox" checked>
                                        <span>Email notifications for new registrations</span>
                                    </label>
                                </div>
                                
                                <div class="form-group checkbox-group">
                                    <label>
                                        <input type="checkbox" checked>
                                        <span>Event reminder notifications</span>
                                    </label>
                                </div>
                                
                                <div class="form-group checkbox-group">
                                    <label>
                                        <input type="checkbox">
                                        <span>Weekly activity report</span>
                                    </label>
                                </div>
                                
                                <div class="form-group checkbox-group">
                                    <label>
                                        <input type="checkbox" checked>
                                        <span>System alerts and updates</span>
                                    </label>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">Save Preferences</button>
                            </form>
                        </div>
                        
                        <!-- Security Settings -->
                        <div class="tab-pane" id="security">
                            <form class="settings-form">
                                <div class="form-group">
                                    <label for="session-timeout">Session Timeout (minutes)</label>
                                    <input type="number" id="session-timeout" value="30" min="5" max="120">
                                </div>
                                
                                <div class="form-group checkbox-group">
                                    <label>
                                        <input type="checkbox" checked>
                                        <span>Require re-authentication for sensitive actions</span>
                                    </label>
                                </div>
                                
                                <div class="form-group checkbox-group">
                                    <label>
                                        <input type="checkbox">
                                        <span>Enable two-factor authentication</span>
                                    </label>
                                </div>
                                
                                <div class="form-group">
                                    <label for="password-policy">Password Policy</label>
                                    <select id="password-policy">
                                        <option value="standard">Standard (6+ characters)</option>
                                        <option value="strong">Strong (8+ characters with mix)</option>
                                        <option value="very-strong">Very Strong (12+ characters)</option>
                                    </select>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">Update Security</button>
                            </form>
                        </div>
                        
                        <!-- Backup Settings -->
                        <div class="tab-pane" id="backup">
                            <div class="backup-info">
                                <div class="info-card">
                                    <i class="fas fa-database"></i>
                                    <div>
                                        <h4>Last Backup</h4>
                                        <p id="last-backup">2024-01-15 14:30:00</p>
                                    </div>
                                </div>
                                
                                <div class="info-card">
                                    <i class="fas fa-hdd"></i>
                                    <div>
                                        <h4>Database Size</h4>
                                        <p id="db-size">24.5 MB</p>
                                    </div>
                                </div>
                                
                                <div class="info-card">
                                    <i class="fas fa-cloud"></i>
                                    <div>
                                        <h4>Storage Used</h4>
                                        <p id="storage-used">15% of 1GB</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="backup-actions">
                                <button class="btn btn-primary">
                                    <i class="fas fa-download"></i> Backup Now
                                </button>
                                <button class="btn btn-outline">
                                    <i class="fas fa-upload"></i> Restore Backup
                                </button>
                                <button class="btn btn-outline">
                                    <i class="fas fa-trash"></i> Clear Old Backups
                                </button>
                            </div>
                            
                            <div class="backup-schedule">
                                <h4>Automatic Backup Schedule</h4>
                                <form class="settings-form">
                                    <div class="form-group">
                                        <label for="backup-frequency">Frequency</label>
                                        <select id="backup-frequency">
                                            <option value="daily">Daily</option>
                                            <option value="weekly" selected>Weekly</option>
                                            <option value="monthly">Monthly</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="backup-time">Time</label>
                                        <input type="time" id="backup-time" value="02:00">
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary">Save Schedule</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Event Modal -->
    <div class="modal" id="add-event-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Event</h3>
                <button class="modal-close">&times;</button>
            </div>
            
            <form id="add-event-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="event-title">Event Title</label>
                        <input type="text" id="event-title" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-category">Category</label>
                        <select id="event-category" required>
                            <option value="">Select Category</option>
                            <option value="workshop">Workshop</option>
                            <option value="competition">Competition</option>
                            <option value="seminar">Seminar</option>
                            <option value="hackathon">Hackathon</option>
                            <option value="conference">Conference</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="event-description">Description</label>
                    <textarea id="event-description" rows="4" required></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="event-date">Date</label>
                        <input type="date" id="event-date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-time">Time</label>
                        <input type="time" id="event-time" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="event-location">Location</label>
                        <input type="text" id="event-location" placeholder="Virtual / Room No." required>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-capacity">Capacity</label>
                        <input type="number" id="event-capacity" min="1" value="50">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="event-form-link">Registration Form Link</label>
                    <input type="url" id="event-form-link" placeholder="https://forms.google.com/..." required>
                </div>
                
                <div class="form-group">
                    <label for="event-image">Event Image</label>
                    <input type="file" id="event-image" accept="image/*">
                    <div class="image-preview" id="image-preview"></div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-outline cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save Event
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Event Modal -->
    <div class="modal" id="edit-event-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Event</h3>
                <button class="modal-close">&times;</button>
            </div>
            
            <form id="edit-event-form">
                <input type="hidden" id="edit-event-id">
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-event-title">Event Title</label>
                        <input type="text" id="edit-event-title" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-event-category">Category</label>
                        <select id="edit-event-category" required>
                            <option value="workshop">Workshop</option>
                            <option value="competition">Competition</option>
                            <option value="seminar">Seminar</option>
                            <option value="hackathon">Hackathon</option>
                            <option value="conference">Conference</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="edit-event-description">Description</label>
                    <textarea id="edit-event-description" rows="4" required></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-event-date">Date</label>
                        <input type="date" id="edit-event-date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-event-time">Time</label>
                        <input type="time" id="edit-event-time" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-event-location">Location</label>
                        <input type="text" id="edit-event-location" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-event-capacity">Capacity</label>
                        <input type="number" id="edit-event-capacity" min="1">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="edit-event-form-link">Registration Form Link</label>
                    <input type="url" id="edit-event-form-link" required>
                </div>
                
                <div class="form-group">
                    <label for="edit-event-image">
                        Event Image
                        <span class="hint">(Leave empty to keep current image)</span>
                    </label>
                    <input type="file" id="edit-event-image" accept="image/*">
                    <div class="image-preview" id="edit-image-preview"></div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-danger" id="delete-event-btn">
                        <i class="fas fa-trash"></i> Delete Event
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Update Event
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="delete-modal">
        <div class="modal-content delete-modal">
            <div class="modal-header">
                <h3><i class="fas fa-exclamation-triangle"></i> Confirm Delete</h3>
            </div>
            
            <div class="modal-body">
                <p>Are you sure you want to delete this event? This action cannot be undone.</p>
                <div class="event-preview" id="delete-event-preview"></div>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-outline cancel-delete">Cancel</button>
                <button type="button" class="btn btn-danger confirm-delete">
                    <i class="fas fa-trash"></i> Delete Event
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Scripts -->
    <script type="module" src="js/admin.js"></script>
</body>
</html>